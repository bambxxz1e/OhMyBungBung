<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oh My 붕붕</title>
    <link rel="stylesheet" href="main_style.css">
</head>
<body>
    <h2>🚌 버스 알림 설정하기 🚌</h2>
    
    <form>
        <div> 
            <label for="stop">정류소 검색하기</label><br>
            <input type="text" id="searchStop" name="stop" placeholder="버스 정류소를 입력하세요">
        </div>
        <div>
            <label for="bus">버스 노선 검색하기</label><br>
            <input type="text" id="searchBus" name="bus" placeholder="버스 번호를 입력하세요">
        </div>
        <div>
            <label for="busTime">원하는 버스 배차 시간대</label><br>
            <div class="time-div">
                <input type="time" id="start" name="start">
                <span>~</span>
                <input type="time" id="end" name="end">
            </div>
        </div>
        <div>
            <label for="alarm">알림 시간</label><br>
            <span>버스 도착</span>
            <select name="alarm">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="15">15</option>
                <option value="20">20</option>
            </select>
            <span>분 전</span>
        </div>
        <div class="btn-div">
            <button type="submit" onclick="saveInfo()">저장</button>
        </div>
    </form>

    <script>
        function saveInfo(){
            const formData = { // input, select 값 객체로 저장하기
                stop: document.querySelector("#searchStop").value,
                bus: document.querySelector("#searchBus").value,
                timeRange: {
                    start: document.querySelector("#start").value,
                    end: document.querySelector("#end").value
                },
                alarm: document.querySelector("select[name ='alarm']").value
            };

            localStorage.setItem("userBusData", JSON.stringify(formData)); // 객체로 저장한 값 localStorage에 저장
        };
    </script>
</body>
</html>